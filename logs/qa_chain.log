2025-02-17 21:05:06 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:05:06 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:05:08 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:05:08 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:05:16 - qa_chain - INFO - Processando pergunta: o que acha do meu codigo?
2025-02-17 21:05:16 - qa_chain - INFO - Processando pergunta: o que acha do meu codigo?
2025-02-17 21:05:17 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:17 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:28 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:05:28 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:05:29 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:05:29 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:05:29 - qa_chain - INFO - Processando pergunta: o que acha do meu codigo?
2025-02-17 21:05:29 - qa_chain - INFO - Processando pergunta: o que acha do meu codigo?
2025-02-17 21:05:30 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:30 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:42 - qa_chain - INFO - Processando pergunta: sabe o que √© um sistema tag?
2025-02-17 21:05:42 - qa_chain - INFO - Processando pergunta: sabe o que √© um sistema tag?
2025-02-17 21:05:43 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:43 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:51 - qa_chain - INFO - Processando pergunta: sabe o que √© um sistema rag?
2025-02-17 21:05:51 - qa_chain - INFO - Processando pergunta: sabe o que √© um sistema rag?
2025-02-17 21:05:54 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:05:54 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:06:19 - qa_chain - INFO - Processando pergunta: o que melhoraria aqui import streamlit as st from src.core.document_processor import DocumentProcessor from src.core.qa_chain import QAChain from src.models.groq_handler import GroqHandler import os from tempfile import NamedTemporaryFile import logging from src.utils.logging_config import setup_logger import re  # Configura√ß√£o do logger logger = setup_logger('streamlit_app', 'logs/app.log')  # Configura√ß√£o da p√°gina Streamlit st.set_page_config(     page_title="Sistema de Perguntas e Respostas",     page_icon="ü§ñ",     layout="wide" )  # T√≠tulo e descri√ß√£o st.title("Sistema de Perguntas e Respostas ü§ñ") st.markdown(""" Este sistema permite que voc√™: 1. Fa√ßa upload de documentos (PDFs) 2. Processe e indexe o conte√∫do 3. Fa√ßa perguntas sobre os documentos """)  # Inicializa√ß√£o do Groq e QA Chain @st.cache_resource def initialize_qa_system():     try:         handler = GroqHandler()         handler.initialize()         qa_system = QAChain(handler)         return qa_system     except Exception as e:         st.error(f"Erro ao inicializar o sistema: {str(e)}")         return None  # Fun√ß√£o para processar documento def process_document(uploaded_file):     try:         # Cria um arquivo tempor√°rio para o PDF         with NamedTemporaryFile(delete=False, suffix='.pdf') as tmp_file:             tmp_file.write(uploaded_file.getvalue())             tmp_path = tmp_file.name                  # Processa o documento         processor = DocumentProcessor(tmp_path)         docs = processor.process_pdf()                  # Remove o arquivo tempor√°rio         os.unlink(tmp_path)                  return docs     except Exception as e:         st.error(f"Erro ao processar o documento: {str(e)}")         return None  # Fun√ß√£o para extrair pensamento e resposta def extract_thought_and_answer(text):     # Procura por conte√∫do entre tags <think> e </think>     thought_match = re.search(r'<think>(.*?)</think>', text, re.DOTALL)          if thought_match:         thought = thought_match.group(1).strip()         # Remove a parte do pensamento do texto original para obter apenas a resposta         answer = re.sub(r'<think>.*?</think>', '', text, flags=re.DOTALL).strip()         return thought, answer     else:         # Se n√£o encontrar tags de pensamento, retorna None para pensamento e o texto original como resposta         return None, text.strip()  # Inicializa o sistema de QA qa_system = initialize_qa_system()  # Sidebar para upload de documentos with st.sidebar:     st.header("Upload de Documentos")     uploaded_files = st.file_uploader(         "Escolha os arquivos PDF",         type=['pdf'],         accept_multiple_files=True     )          if uploaded_files:         st.write(f"Arquivos carregados: {len(uploaded_files)}")                  if st.button("Processar Documentos"):             with st.spinner("Processando documentos..."):                 for file in uploaded_files:                     st.write(f"Processando: {file.name}")                     docs = process_document(file)                     if docs:                         # Adiciona os documentos ao QA system                         qa_system.add_documents(docs)                         st.success(f"{file.name} processado com sucesso!")                     else:                         st.error(f"Erro ao processar {file.name}")  # √Årea principal para perguntas st.header("Fa√ßa sua Pergunta")  # Checkbox para mostrar/ocultar pensamento show_thought = st.checkbox("Mostrar processo de pensamento", value=False)  # Input da pergunta question = st.text_input("Digite sua pergunta:")  if question:     if not qa_system:         st.error("Sistema n√£o inicializado corretamente.")     else:         with st.spinner("Processando sua pergunta..."):             try:                 # Processa a pergunta                 result = qa_system.query(question)                                  # Extrai pensamento e resposta                 thought, answer = extract_thought_and_answer(result['resposta'])                                  # Exibe a resposta                 st.subheader("Resposta:")                                  # Mostra o pensamento se a op√ß√£o estiver marcada e existir pensamento                 if show_thought and thought:                     with st.expander("Processo de Pensamento", expanded=True):                         st.markdown(thought)                                  # Mostra a resposta final                 st.markdown(answer)                                  # Exibe o status                 if result['status'] == 'sucesso':                     st.success("Pergunta processada com sucesso!")                 else:                     st.error("Erro ao processar a pergunta")                              except Exception as e:                 st.error(f"Erro ao processar a pergunta: {str(e)}")  # Footer st.markdown("---") st.markdown("Desenvolvido com ‚ù§Ô∏è usando Streamlit e LangChain") 
2025-02-17 21:06:19 - qa_chain - INFO - Processando pergunta: o que melhoraria aqui import streamlit as st from src.core.document_processor import DocumentProcessor from src.core.qa_chain import QAChain from src.models.groq_handler import GroqHandler import os from tempfile import NamedTemporaryFile import logging from src.utils.logging_config import setup_logger import re  # Configura√ß√£o do logger logger = setup_logger('streamlit_app', 'logs/app.log')  # Configura√ß√£o da p√°gina Streamlit st.set_page_config(     page_title="Sistema de Perguntas e Respostas",     page_icon="ü§ñ",     layout="wide" )  # T√≠tulo e descri√ß√£o st.title("Sistema de Perguntas e Respostas ü§ñ") st.markdown(""" Este sistema permite que voc√™: 1. Fa√ßa upload de documentos (PDFs) 2. Processe e indexe o conte√∫do 3. Fa√ßa perguntas sobre os documentos """)  # Inicializa√ß√£o do Groq e QA Chain @st.cache_resource def initialize_qa_system():     try:         handler = GroqHandler()         handler.initialize()         qa_system = QAChain(handler)         return qa_system     except Exception as e:         st.error(f"Erro ao inicializar o sistema: {str(e)}")         return None  # Fun√ß√£o para processar documento def process_document(uploaded_file):     try:         # Cria um arquivo tempor√°rio para o PDF         with NamedTemporaryFile(delete=False, suffix='.pdf') as tmp_file:             tmp_file.write(uploaded_file.getvalue())             tmp_path = tmp_file.name                  # Processa o documento         processor = DocumentProcessor(tmp_path)         docs = processor.process_pdf()                  # Remove o arquivo tempor√°rio         os.unlink(tmp_path)                  return docs     except Exception as e:         st.error(f"Erro ao processar o documento: {str(e)}")         return None  # Fun√ß√£o para extrair pensamento e resposta def extract_thought_and_answer(text):     # Procura por conte√∫do entre tags <think> e </think>     thought_match = re.search(r'<think>(.*?)</think>', text, re.DOTALL)          if thought_match:         thought = thought_match.group(1).strip()         # Remove a parte do pensamento do texto original para obter apenas a resposta         answer = re.sub(r'<think>.*?</think>', '', text, flags=re.DOTALL).strip()         return thought, answer     else:         # Se n√£o encontrar tags de pensamento, retorna None para pensamento e o texto original como resposta         return None, text.strip()  # Inicializa o sistema de QA qa_system = initialize_qa_system()  # Sidebar para upload de documentos with st.sidebar:     st.header("Upload de Documentos")     uploaded_files = st.file_uploader(         "Escolha os arquivos PDF",         type=['pdf'],         accept_multiple_files=True     )          if uploaded_files:         st.write(f"Arquivos carregados: {len(uploaded_files)}")                  if st.button("Processar Documentos"):             with st.spinner("Processando documentos..."):                 for file in uploaded_files:                     st.write(f"Processando: {file.name}")                     docs = process_document(file)                     if docs:                         # Adiciona os documentos ao QA system                         qa_system.add_documents(docs)                         st.success(f"{file.name} processado com sucesso!")                     else:                         st.error(f"Erro ao processar {file.name}")  # √Årea principal para perguntas st.header("Fa√ßa sua Pergunta")  # Checkbox para mostrar/ocultar pensamento show_thought = st.checkbox("Mostrar processo de pensamento", value=False)  # Input da pergunta question = st.text_input("Digite sua pergunta:")  if question:     if not qa_system:         st.error("Sistema n√£o inicializado corretamente.")     else:         with st.spinner("Processando sua pergunta..."):             try:                 # Processa a pergunta                 result = qa_system.query(question)                                  # Extrai pensamento e resposta                 thought, answer = extract_thought_and_answer(result['resposta'])                                  # Exibe a resposta                 st.subheader("Resposta:")                                  # Mostra o pensamento se a op√ß√£o estiver marcada e existir pensamento                 if show_thought and thought:                     with st.expander("Processo de Pensamento", expanded=True):                         st.markdown(thought)                                  # Mostra a resposta final                 st.markdown(answer)                                  # Exibe o status                 if result['status'] == 'sucesso':                     st.success("Pergunta processada com sucesso!")                 else:                     st.error("Erro ao processar a pergunta")                              except Exception as e:                 st.error(f"Erro ao processar a pergunta: {str(e)}")  # Footer st.markdown("---") st.markdown("Desenvolvido com ‚ù§Ô∏è usando Streamlit e LangChain") 
2025-02-17 21:06:21 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:06:21 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:07:22 - qa_chain - INFO - Processando pergunta: tenho um app  um aplicativo web interativo que permite ao usu√°rio enviar documentos (como PDFs), extrair e indexar seu conte√∫do e, em seguida, realizar perguntas sobre esse conte√∫do. O sistema processa os documentos, integra-os a um mecanismo de perguntas e respostas e exibe as respostas obtidas. Al√©m disso, h√° a op√ß√£o de mostrar o racioc√≠nio interno utilizado para chegar √† resposta, fornecendo transpar√™ncia no processo de tomada de decis√£o. A aplica√ß√£o tamb√©m inclui mecanismos de registro e tratamento de erros para garantir uma opera√ß√£o confi√°vel.
2025-02-17 21:07:22 - qa_chain - INFO - Processando pergunta: tenho um app  um aplicativo web interativo que permite ao usu√°rio enviar documentos (como PDFs), extrair e indexar seu conte√∫do e, em seguida, realizar perguntas sobre esse conte√∫do. O sistema processa os documentos, integra-os a um mecanismo de perguntas e respostas e exibe as respostas obtidas. Al√©m disso, h√° a op√ß√£o de mostrar o racioc√≠nio interno utilizado para chegar √† resposta, fornecendo transpar√™ncia no processo de tomada de decis√£o. A aplica√ß√£o tamb√©m inclui mecanismos de registro e tratamento de erros para garantir uma opera√ß√£o confi√°vel.
2025-02-17 21:07:23 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:07:23 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:07:31 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:07:31 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:07:31 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:07:31 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:07:31 - qa_chain - INFO - Processando pergunta: tenho um app  um aplicativo web interativo que permite ao usu√°rio enviar documentos (como PDFs), extrair e indexar seu conte√∫do e, em seguida, realizar perguntas sobre esse conte√∫do. O sistema processa os documentos, integra-os a um mecanismo de perguntas e respostas e exibe as respostas obtidas. Al√©m disso, h√° a op√ß√£o de mostrar o racioc√≠nio interno utilizado para chegar √† resposta, fornecendo transpar√™ncia no processo de tomada de decis√£o. A aplica√ß√£o tamb√©m inclui mecanismos de registro e tratamento de erros para garantir uma opera√ß√£o confi√°vel.
2025-02-17 21:07:31 - qa_chain - INFO - Processando pergunta: tenho um app  um aplicativo web interativo que permite ao usu√°rio enviar documentos (como PDFs), extrair e indexar seu conte√∫do e, em seguida, realizar perguntas sobre esse conte√∫do. O sistema processa os documentos, integra-os a um mecanismo de perguntas e respostas e exibe as respostas obtidas. Al√©m disso, h√° a op√ß√£o de mostrar o racioc√≠nio interno utilizado para chegar √† resposta, fornecendo transpar√™ncia no processo de tomada de decis√£o. A aplica√ß√£o tamb√©m inclui mecanismos de registro e tratamento de erros para garantir uma opera√ß√£o confi√°vel.
2025-02-17 21:07:33 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:07:33 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:08:41 - qa_chain - INFO - Processando pergunta: consegue falar linguagem python?
2025-02-17 21:08:41 - qa_chain - INFO - Processando pergunta: consegue falar linguagem python?
2025-02-17 21:08:44 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:08:44 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:19:10 - qa_chain - INFO - QAChain inicializado com modelo de embeddings: sentence-transformers/all-MiniLM-L6-v2
2025-02-17 21:19:23 - qa_chain - INFO - Processando pergunta: o que 
2025-02-17 21:19:23 - qa_chain - WARNING - Nenhum documento relevante encontrado
2025-02-17 21:19:23 - qa_chain - INFO - Adicionando 83 documentos ao sistema
2025-02-17 21:19:25 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:19:25 - qa_chain - INFO - Processando pergunta: o que 
2025-02-17 21:19:26 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:19:33 - qa_chain - INFO - Processando pergunta: me diga o que 
2025-02-17 21:19:33 - qa_chain - INFO - Processando pergunta: me diga o que 
2025-02-17 21:19:34 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:19:34 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:19:42 - qa_chain - INFO - Processando pergunta: do que se trata esse rag?
2025-02-17 21:19:43 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:30:30 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:30:30 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:30:31 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:30:31 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:30:36 - qa_chain - INFO - Processando pergunta: oi
2025-02-17 21:30:36 - qa_chain - INFO - Processando pergunta: oi
2025-02-17 21:30:38 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:30:38 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:43:14 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:14 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:14 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:15 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:15 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:15 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:20 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:20 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:20 - qa_chain - INFO - Adicionando 14 documentos ao sistema
2025-02-17 21:43:20 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:20 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:20 - qa_chain - INFO - Documentos adicionados com sucesso
2025-02-17 21:43:39 - qa_chain - INFO - Processando pergunta: quero saber mais sobre os sinais cripto mas nao quero comprar ainda
2025-02-17 21:43:39 - qa_chain - INFO - Processando pergunta: quero saber mais sobre os sinais cripto mas nao quero comprar ainda
2025-02-17 21:43:39 - qa_chain - INFO - Processando pergunta: quero saber mais sobre os sinais cripto mas nao quero comprar ainda
2025-02-17 21:43:42 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:43:42 - qa_chain - INFO - Resposta gerada com sucesso
2025-02-17 21:43:42 - qa_chain - INFO - Resposta gerada com sucesso
